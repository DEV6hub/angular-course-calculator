<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<link href="../Styles/styles.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="../../lib.js"></script>
<script type="text/javascript">
observeEvent(window,"load",function() {
	observeEvent(document.body,"click",function(e) {
		target = getTarget(e);
		getNodeInfo(target);
	});
});

function getNodeInfo(target) {
	removeWhitespace(target.parentNode,true);
	removeWhitespace(target,true);
	var msg = "<h2>You clicked on a <span>" + target.nodeName + "</span> element.</h2><ol>";
	msg += "<li>parentNode: <span>" + target.parentNode.nodeName + "</span></li>";
	if(target.firstChild) msg += "<li>firstChild: <span>" + target.firstChild.nodeName + "</span></li>";
	if(target.lastChild) msg += "<li>lastChild: <span>" + target.lastChild.nodeName + "</span></li>";
	if(target.nextSibling) msg += "<li>nextSibling: <span>" + target.nextSibling.nodeName + "</span></li>";
	if(target.previousSibling) msg += "<li>previousSibling: <span>" + target.previousSibling.nodeName + "</span></li>";
	msg += "<li>childNodes.length: <span>" + target.childNodes.length + "</span></li></ol>";

	document.getElementById("output").innerHTML=msg;
}


	/*
    * this function will remove all text-only child nodes with just white space of the node being passed to it.
    * Param node refers to the html element that is being passed to it
    * Param recursive is boolean (true or false) to determine if the function will call itself (recursion)
    ** note that the recursive param is not used here, just in the challenge version of this exercise
    */
    function removeWhitespace(node,recursive) {
    var childNode;
	//loop through all the "child nodes" of the node being passed
    for (var i=node.childNodes.length-1; i>=0; i--)	{
		//set childNode to the current child node in the loop iteration
        childNode = node.childNodes[i];
		//if the childNode is of type 3 (TEXT_NODE) AND if it has no value (so it just has white space), then...
        if (childNode.nodeType == 3 && !(/\S/.test(childNode.nodeValue))) {
			//remove the childNode from the node that was passed to the function
			//note that removeChild() is a JS built-in method that removes a child node from the node.
            node.removeChild(childNode);
		}
	}
}
</script>
<title>Hierarchy</title>
</head>
<body>
	<div id="output"></div>
	<div id="content">
		<h1>Heading 1</h1>
		<p>Click on any element to get information about its position in the DOM.</p>
		<h2>Heading 2</h2>
		<ul>
			<li>List Item 1</li>
			<li>List Item 2</li>
			<li>List Item 3</li>
		</ul>
		<hr>
		<img src="../Images/logo.jpg" alt="Webucator">
		<hr>
		<table>
		<tr>
			<th>Table Heading</th>
			<th>Table Heading</th>
			<th>Table Heading</th>
		</tr>
		<tr>
			<td><a href="http://www.google.com" onclick="return false">Link</a></td>
			<td>Table Data</td>
			<td>Table Data</td>
		</tr>
		<tr>
			<td>Table Data</td>
			<td>Table Data</td>
			<td>Table Data</td>
		</tr>
		</table>
		<form>
			<input type="text">
			<select>
				<option>Option 1</option>
				<option>Option 2</option>
			</select>
			<textarea></textarea>
			<button type="button">Button</button>
		</form>
	</div>
</body>
</html>
